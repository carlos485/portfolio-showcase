---
const experiences = [
  {
    id: 1,
    title: "Backend Developer",
    company: "Farmacias Peruanas",
    logo: "/logos/farmacias.png",
    period: "2024 - Presente",
    description: "Desarrollo de componentes aplicando arquitectura de microservicios que integran consultas a bases de datos. Implementación de procesos automatizados en entornos de datos.",
    technologies: ["Java", "Spring Boot", "WebFlux", "MySQL", "MongoDB", "Databricks", ""],
  },
  {
    id: 2,
    title: "Desarrollador BackEnd",
    company: "Henkcorp",
    logo: "/logos/henkcorp.jpg",
    period: "2023 - 2023",
    description: "Desarrollo de aplicaciones web escalables usando React, Node.js y PostgreSQL. Liderazgo de equipo de 4 desarrolladores y implementación de arquitecturas microservicios.",
    technologies: ["Angular", "TypeScript", "RxJS", "PrimeNG", "Azure Devops"],
  },
  {
    id: 3,
    title: "Desarrollador FrontEnd",
    company: "Experis",
    logo: "/logos/experis.jpg",
    period: "2020 - 2023",
    description: "Desarrollo de aplicaciones web escalables usando React, Node.js y PostgreSQL. Liderazgo de equipo de 4 desarrolladores y implementación de arquitecturas microservicios.",
    technologies: ["Angular", "TypeScript", "RxJS", "PrimeNG", "Azure Devops"],
  },
  {
    id: 4,
    title: "Desarrollador Web",
    company: "Taistana",
    logo: "/logos/taistana.png",
    period: "2019 - 2020",
    description: "Soporte e implementación de nuevas funcionalidades para una plataforma integral utilizada por diversos negocios para gestionar módulos claves de operación y facturación eléctronica.",
    technologies: ["Vue JS", "Node JS", "MongoDB", "Bootstrap", "Charts JS"]
  }
];
---

<section id="experience" class="min-h-screen py-20 px-4">
  <div class="max-w-6xl mx-auto">
    <h3 class="dark:text-white text-4xl md:text-6xl font-bold text-center mb-20 tracking-tight">Experiencia</h3>

    <div class="relative">
      <!-- Timeline Line -->
      <div class="absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-black dark:bg-white hidden md:block z-0"></div>

      {experiences.map((exp, index) => (
        <div class="relative mb-16 md:mb-24">
          <!-- Logo en el punto de timeline -->
          <div class="absolute left-1/2 transform -translate-x-1/2 w-16 h-16 bg-white dark:bg-black border-2 border-black dark:border-white rounded-full hidden md:flex items-center justify-center z-20 shadow-lg hover:scale-110 transition-transform duration-300 p-2">
            <img 
              src={exp.logo || "/placeholder.svg"} 
              alt={exp.company} 
              class="w-full h-full object-contain"
              loading="lazy"
            />
          </div>

          <!-- Año como marcador lateral más visible -->
          <div class={`absolute hidden top-1/3 ${index % 2 === 0 ? "left-40" : "left-2/3"} lg:block z-0`}>
            <div class="text-8xl font-bold text-gray-600 dark:text-gray-300 font-mono select-none">
              {exp.period.split(' - ')[0]}
            </div>
          </div>

          <!-- Content Card -->
          <div class={`relative z-10 md:w-5/12 ${index % 2 === 0 ? "md:ml-auto md:pl-20" : "md:mr-auto md:pr-20"}`}>
            <div class="border-2 border-black dark:border-white bg-white dark:bg-black hover:shadow-xl dark:hover:shadow-white/10 transition-all duration-300 rounded-lg group">
              <div class="p-8">
                <!-- Header con logo y badge de duración -->
                <div class="relative">
                  <!-- Badge de período -->
                  <div class="flex items-center gap-x-2 text-gray-600 dark:text-gray-400 mb-2 font-mono">
                    <span class="icon-[uil--calendar]"></span>
                    <span class="text-md">{exp.period}</span>
                  </div>
                  <div class="flex items-center gap-4 mb-6">
                    <div class="w-14 h-14 bg-white dark:bg-gray-900 rounded-xl flex items-center justify-center border border-gray-200 dark:border-gray-700 group-hover:scale-105 transition-transform duration-300 p-2 shadow-sm">
                      <img 
                        src={exp.logo || "/placeholder.svg"} 
                        alt={exp.company} 
                        class="w-full h-full object-contain"
                        loading="lazy"
                      />
                    </div>
                    <div class="flex-1">
                      <h4 class="dark:text-white text-xl font-bold font-mono">{exp.title}</h4>
                      <span class="font-mono font-semibold text-gray-600 dark:text-gray-400">{exp.company}</span>
                    </div>
                  </div>                  
                </div>

                <!-- Descripción -->
                <p class="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed font-mono text-sm">
                  {exp.description}
                </p>

                <!-- Tecnologías -->
                <div class="flex flex-wrap gap-2">
                  {exp.technologies.map((tech) => (
                    <span class="px-3 py-1 bg-black dark:bg-white text-white dark:text-black text-xs font-mono font-bold rounded hover:scale-105 transition-transform duration-200">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          </div>

          <!-- Conector decorativo -->
          {index < experiences.length - 1 && (
            <div class="absolute left-1/2 transform -translate-x-1/2 bottom-0 translate-y-8 hidden md:block z-20">
              <div class="w-6 h-6 rounded-full bg-black dark:bg-white"></div>
            </div>
          )}
        </div>
      ))}
    </div>
  </div>
</section>
