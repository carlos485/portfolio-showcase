---
const experiences = [
  {
    id: 1,
    title: "Desarrollador FrontEnd",
    company: "Experis",
    logo: "/logos/experis.jpg",
    period: "2020 - 2023",
    description: "Desarrollo de aplicaciones web escalables usando React, Node.js y PostgreSQL. Liderazgo de equipo de 4 desarrolladores y implementación de arquitecturas microservicios.",
    technologies: ["Angular", "TypeScript", "RxJS", "PrimeNG", "Azure Devops"],
  }
];
---

<section id="experience" class="min-h-screen py-20 px-4">
  <div class="max-w-6xl mx-auto">
    <h3 class="text-4xl md:text-6xl font-bold text-center mb-20 tracking-tight">Experiencia</h3>

    <div class="relative">
      <!-- Timeline Line -->
      <div class="absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-black dark:bg-white hidden md:block"></div>

      {experiences.map((exp, index) => (
        <div class="relative mb-16 md:mb-24">
          <!-- Logo en el punto de timeline -->
          <div class="absolute left-1/2 transform -translate-x-1/2 w-16 h-16 bg-white dark:bg-black border-2 border-black dark:border-white rounded-full hidden md:flex items-center justify-center z-10 shadow-lg hover:scale-110 transition-transform duration-300 p-2">
            <img 
              src={exp.logo || "/placeholder.svg"} 
              alt={exp.company} 
              class="w-full h-full object-contain"
              loading="lazy"
            />
          </div>

          <!-- Logo flotante de fondo (solo en desktop) -->
          <div class={`absolute hidden xl:block opacity-10 w-40 h-40 ${index % 2 === 0 ? 'right-8 top-8' : 'left-8 top-8'} pointer-events-none`}>
            <img 
              src={exp.logo || "/placeholder.svg"} 
              alt="" 
              class="w-full h-full object-contain"
              loading="lazy"
            />
          </div>

          <!-- Año como marcador lateral más visible -->
          <div class={`absolute hidden lg:block top-4 ${index % 2 === 0 ? 'right-full mr-8' : 'left-full ml-8'}`}>
            <div class="text-6xl font-bold text-gray-200 dark:text-gray-800 font-mono select-none">
              {exp.period.split(' - ')[0]}
            </div>
          </div>

          <!-- Content Card -->
          <div class={`md:w-5/12 ${index % 2 === 0 ? "md:ml-auto md:pl-20" : "md:mr-auto md:pr-20"}`}>
            <div class="border-2 border-black dark:border-white bg-white dark:bg-black hover:shadow-xl dark:hover:shadow-white/10 transition-all duration-300 rounded-lg group">
              <div class="p-8">
                <!-- Header con logo y badge de duración -->
                <div class="relative">
                  <div class="flex items-center gap-4 mb-6">
                    <div class="w-14 h-14 bg-white dark:bg-gray-900 rounded-xl flex items-center justify-center border border-gray-200 dark:border-gray-700 group-hover:scale-105 transition-transform duration-300 p-2 shadow-sm">
                      <img 
                        src={exp.logo || "/placeholder.svg"} 
                        alt={exp.company} 
                        class="w-full h-full object-contain"
                        loading="lazy"
                      />
                    </div>
                    <div class="flex-1">
                      <h4 class="text-xl font-bold font-mono">{exp.title}</h4>
                      <span class="font-mono font-semibold text-gray-600 dark:text-gray-400">{exp.company}</span>
                    </div>
                  </div>
                  
                  <!-- Badge de período -->
                  <div class="absolute -top-4 right-0">
                    <span class="bg-black dark:bg-white text-white dark:text-black px-3 py-1 text-xs font-mono font-bold rounded-full">
                      {exp.period}
                    </span>
                  </div>
                </div>

                <!-- Descripción -->
                <p class="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed font-mono text-sm">
                  {exp.description}
                </p>

                <!-- Tecnologías -->
                <div class="flex flex-wrap gap-2">
                  {exp.technologies.map((tech) => (
                    <span class="px-3 py-1 bg-black dark:bg-white text-white dark:text-black text-xs font-mono font-bold rounded hover:scale-105 transition-transform duration-200">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          </div>

          <!-- Conector decorativo -->
          {index < experiences.length - 1 && (
            <div class="absolute left-1/2 transform -translate-x-1/2 bottom-0 translate-y-8 hidden md:block">
              <div class="w-6 h-6 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-full bg-white dark:bg-black"></div>
            </div>
          )}
        </div>
      ))}
    </div>
  </div>
</section>
